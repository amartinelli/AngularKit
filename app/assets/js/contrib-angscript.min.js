/*!
* contrib - v0.0.1 - MIT LICENSE 2017-05-17. 
* @author Andre Agunzi
*/
function LoginState(a){a.state("home.login",{url:"/login",templateUrl:"app/modules/auth/auth.html",controller:"AuthCtrl",controllerAs:"vm"})}function LayoutLogin(a,b){}!function(){"use strict";angular.module("contrib",["ngResource","ngAria","ngMaterial","ngMdIcons","ngCookies","ngAnimate","ngSanitize","idf.br-filters","ui.router","ui.utils.masks","tmh.dynamicLocale","ui.utils.masks","home","auth","users","contribs","arrecadacao","br.cidades.estados"])}(),function(){"use strict";function a(a,b,c,d){c.hashPrefix("!"),d.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",b.otherwise("/dashboard")}function b(a){console.log("AngularJS run() function..."),a.mastertoken="9S9JgTyAG0VdGcmjHKxSUuKnyTgQrt1a",a.UrlAPIUsers="http://0.0.0.0:9000/users/",a.UrlAPIContribs="http://0.0.0.0:9000/contribs/",a.UrlAPIPayments="http://0.0.0.0:9000/payments/",a.UrlAPIAuth="http://0.0.0.0:9000/auth"}function c(a,b,c,d,e,f){console.log("Call AuthorizationVerify"),a.globals=d.get("globals")||{},a.token=d.get("token")||{},a.user=d.get("user")||{},"undefined"!=typeof a.globals.currentUser&&(e.defaults.headers.common.Authorization="Basic "+a.globals.currentUser.authdata),a.$on("$stateChangeSuccess",function(d,e,f){console.log("Verify is Logged"),"/login"===b.path()||a.globals.currentUser?a.globals.currentUser?(console.log("Logado"),a.telaLogin=!0):(console.log("Não Logado 2"),a.telaLogin=!1):(console.log("Não Logado 1"),a.telaLogin=!1,c.go("home.login"))})}angular.module("contrib").config(a).config(function(a){a.defaultLocale("pt-br")}).run(b).run(c),a.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider"],b.$inject=["$rootScope"],c.$inject=["$rootScope","$location","$state","$cookieStore","$http","AuthenticationService"]}(),function(){"use strict";angular.module("arrecadacao",["tmh.dynamicLocale"]).config(function(a){a.localeLocationPattern("/node_modules/angular-i18n/angular-locale_{{locale}}.js")})}(),function(){"use strict";angular.module("auth",[])}(),function(){"use strict";angular.module("contribs",["tmh.dynamicLocale"]).config(function(a){a.localeLocationPattern("/node_modules/angular-i18n/angular-locale_{{locale}}.js")})}(),function(){"use strict";angular.module("home",[])}(),function(){"use strict";angular.module("users",[])}(),angular.module("arrecadacao").config(["$stateProvider",function(a){a.state("home.arrecadacao",{url:"/arrecadacao",templateUrl:"app/modules/arrecadacao/arrecadacao.html",controller:"PaymentListController",controllerAs:"vm"}).state("home.viewPayment",{url:"/arrecadacao/:id/view",templateUrl:"app/modules/arrecadacao/payments-view.html",controller:"PaymentViewController",controllerAs:"vm"}).state("home.newPayment",{url:"/arrecadacao/new",templateUrl:"app/modules/arrecadacao/payments-add.html",controller:"PaymentCreateController",controllerAs:"vm"}).state("home.editPayment",{url:"/arrecadacao/:id/edit",templateUrl:"app/modules/arrecadacao/payments-edit.html",controller:"PaymentEditController",controllerAs:"vm"}).state("home.deletePayment",{url:"/arrecadacao/:id/delete",templateUrl:"app/modules/arrecadacao/payments-delete.html",controller:"PaymentEditController",controllerAs:"vm"})}]),angular.module("auth").config(LoginState).run(LayoutLogin),LayoutLogin.$inject=["$state","$rootScope"],angular.module("contribs").config(["$stateProvider",function(a){a.state("home.contribs",{url:"/contribs",templateUrl:"app/modules/contribs/contribs.html",controller:"ContribListController",controllerAs:"vm"}).state("home.viewContrib",{url:"/contribs/:id/view",templateUrl:"app/modules/contribs/contribs-view.html",controller:"ContribViewController",controllerAs:"vm"}).state("home.newContrib",{url:"/contribs/new",templateUrl:"app/modules/contribs/contribs-add.html",controller:"ContribCreateController",controllerAs:"vm"}).state("home.editContrib",{url:"/contribs/:id/edit",templateUrl:"app/modules/contribs/contribs-edit.html",controller:"ContribEditController",controllerAs:"vm"}).state("home.deleteContrib",{url:"/contribs/:id/delete",templateUrl:"app/modules/contribs/contribs-delete.html",controller:"ContribEditController",controllerAs:"vm"})}]),angular.module("contrib").config(["$stateProvider",function(a){a.state("home",{url:"","abstract":!0,templateUrl:"app/modules/home/home.html",controller:"HomeCtrl",controllerAs:"vm"}).state("home.dashboard",{url:"/dashboard",templateUrl:"app/modules/home/dashboard.html"})}]),angular.module("users").config(["$stateProvider",function(a){a.state("home.users",{url:"/users",templateUrl:"app/modules/users/users.html",controller:"MovieListController",controllerAs:"vm"}).state("home.viewUser",{url:"/users/:id/view",templateUrl:"app/modules/users/users-view.html",controller:"MovieViewController",controllerAs:"vm"}).state("home.newUser",{url:"/users/new",templateUrl:"app/modules/users/users-add.html",controller:"MovieCreateController",controllerAs:"vm"}).state("home.editUser",{url:"/users/:id/edit",templateUrl:"app/modules/users/users-edit.html",controller:"MovieEditController",controllerAs:"vm"}).state("home.deleteUser",{url:"/users/:id/delete",templateUrl:"app/modules/users/users-delete.html",controller:"MovieEditController",controllerAs:"vm"})}]),function(){"use strict";function a(a,b,c,d,e,f){var g=e.query();a.payments=g,a.deletePayment=function(d){c.showPopup("Deseja realmente deletar ?")&&d.$delete({id:d.id},function(){var c=e.query();a.payments=c,b.go("home.arrecadacao")})}}function b(a,b,c,d){a.payments=c.get({id:b.id})}function c(a,b,c,d,e,f){var g=e.query();a.contribs=g,a.payments=new d,a.myDate=null,a.minDate=new Date,a.maxDate=new Date,a.addPayment=function(){a.payments.$save(function(){b.go("home.arrecadacao")})}}function d(a,b,c,d,e,f){var g=e.query();a.contribs=g,a.updatePayment=function(){var d=a.payments.$update({id:c.id});d.then(function(a){b.go("home.arrecadacao")})},a.loadPayment=function(){a.payments=d.get({id:c.id})},a.loadPayment()}angular.module("arrecadacao").controller("PaymentListController",a).controller("PaymentViewController",b).controller("PaymentCreateController",c).controller("PaymentEditController",d),a.$inject=["$scope","$state","popupService","$window","Payment","tmhDynamicLocale"],b.$inject=["$scope","$stateParams","Payment","tmhDynamicLocale"],c.$inject=["$scope","$state","$stateParams","Payment","Contrib","tmhDynamicLocale"],d.$inject=["$scope","$state","$stateParams","Payment","Contrib","tmhDynamicLocale"]}(),function(){"use strict";function a(a,b,c,d){var e=this;d.ClearCredentials(),e.telaLogin=b.telaLogin,a.login=function(){a.dataLoading=!0,d.SetCredentials(a.username,a.password),d.Login(a.username,a.password,function(b){b.success?c.path("/"):(a.error=b.message,a.dataLoading=!1)})}}angular.module("auth").controller("AuthCtrl",a),a.$inject=["$scope","$rootScope","$location","AuthenticationService"]}(),function(){"use strict";function a(a,b,c,d,e,f){var g=e.query();a.contribs=g,a.deleteContrib=function(d){c.showPopup("Deseja realmente deletar ?")&&d.$delete({id:d.id},function(){var c=e.query();a.contribs=c,b.go("home.contribs")})}}function b(a,b,c,d){a.contribs=c.get({id:b.id})}function c(a,b,c,d,e,f){a.contribs=new d,a.estados=f.estados,a.buscarCidadesPorSigla=function(b){console.log(b),a.cidades=f.buscarCidadesPorSigla(b)},a.addContrib=function(){a.contribs.$save(function(){b.go("home.contribs")})}}function d(a,b,c,d,e,f){e.set("pt-br"),a.estados=f.estados,a.buscarCidadesPorSigla=function(b){console.log(b),a.cidades=f.buscarCidadesPorSigla(b)},a.updateContrib=function(){var d=a.contribs.$update({id:c.id});d.then(function(a){b.go("home.contribs")})},a.loadContrib=function(){a.contribs=d.get({id:c.id})},a.loadContrib()}angular.module("contribs").controller("ContribListController",a).controller("ContribViewController",b).controller("ContribCreateController",c).controller("ContribEditController",d),a.$inject=["$scope","$state","popupService","$window","Contrib","tmhDynamicLocale"],b.$inject=["$scope","$stateParams","Contrib","tmhDynamicLocale"],c.$inject=["$scope","$state","$stateParams","Contrib","tmhDynamicLocale","brCidadesEstados"],d.$inject=["$scope","$state","$stateParams","Contrib","tmhDynamicLocale","brCidadesEstados"]}(),function(){"use strict";function a(a,b){var c=this;"undefined"!=typeof b.globals.currentUser&&(c.title="Olá "+b.globals.currentUser.user.name),c.version="1.0.0",c.listFeatures=a.getFeaturesList()}angular.module("contrib").controller("HomeCtrl",a),a.$inject=["homeService","$rootScope"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){var h=this;h.toggleSidenav=function(b){a(b).toggle()},h.changePassword=function(){d.show(d.simple().content("Password clicked!").position("top right").hideDelay(2e3))},h.changeProfile=function(a){function b(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.answer=function(a){b.hide(a)}}e.show({controller:b,templateUrl:"tabDialog.tmpl.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:!0}).then(function(a){d.show(d.simple().content('You said the information was "'+a+'".').position("top right").hideDelay(2e3))},function(){d.show(d.simple().content("You cancelled the dialog.").position("top right").hideDelay(2e3))})},h.logOut=function(){f.ClearCredentials(),g.telaLogin=!1,c.go("home.login")};var i;h.openMenu=function(a,b){i=b,a(b)}}angular.module("contrib").controller("LayoutCtrl",a),a.$inject=["$mdSidenav","$cookies","$state","$mdToast","$mdDialog","AuthenticationService","$rootScope"]}(),function(){"use strict";function a(a,b,c,d,e,f){var g=this;g.toggleSidenav=function(b){a(b).toggle()},g.closeSidenav=function(){a("left").close()},f.$on("$stateChangeSuccess",g.closeSidenav),g.menu=e.listMenu(),g.admin=[{link:"showListBottomSheet($event)",title:"Settings",icon:"settings"}],g.navigateTo=function(a){var c=a;b.go(c)},g.showSettingsBottom=function(a){g.alert="",c.show({template:'<md-bottom-sheet class="md-grid" layout="column" ng-cloak><div layout="row" layout-align="center center"><h4>With clickOutsideToClose option, drag down or press ESC to close</h4></div><md-list flex layout="row" layout-align="center center"><md-list-item ng-repeat="item in vm.items"><md-button class="md-grid-item-content" ng-click="vm.listItemClick($index)"><md-icon class="md-48">{{item.icon}}</md-icon><div class="md-grid-text"> {{ item.name }} </div></md-button></md-list-item></md-list></md-bottom-sheet>',controller:"SettingsCtrl",controllerAs:"vm",targetEvent:a}).then(function(a){d.show(d.simple().content(a.name+" clicked!").position("top right").hideDelay(2e3))})}}function b(a){var b=this;b.items=[{name:"Roles",icon:"assignment_ind"},{name:"Notes",icon:"speaker_notes"},{name:"Tasks",icon:"view_list"},{name:"Inbox",icon:"inbox"}],b.listItemClick=function(c){var d=b.items[c];a.hide(d)}}angular.module("contrib").controller("SidenavCtrl",a).controller("SettingsCtrl",b),a.$inject=["$mdSidenav","$state","$mdBottomSheet","$mdToast","MenuService","$scope"],b.$inject=["$mdBottomSheet"]}(),function(){"use strict";function a(a,b,c,d,e){var f=e.query();a.users=f,a.deleteUser=function(d){if(c.showPopup("Tem certeza que deseja deletar o usuário "+d.name+" ?")){var f=d.$delete({id:d.id});f.then(function(c){a.users=e.query(),b.go("home.users")})}}}function b(a,b,c){a.selected=[],a.users=c.get({id:b.id}),a.users.$promise.then(function(b){a.selected=b.role.split(",")}),a.items=[{name:"Administrador",value:"admin"},{name:"Usuario",value:"user"}],a.toggle=function(a,b){var c=b.indexOf(a);c>-1?b.splice(c,1):b.push(a)},a.exists=function(a,b){return console.log(a),console.log(b),b.indexOf(a)>-1},a.isIndeterminate=function(){return 0!==a.selected.length&&a.selected.length!==a.items.length},a.isChecked=function(){return a.selected.length===a.items.length},a.toggleAll=function(){a.selected.length===a.items.length?a.selected=[]:(0===a.selected.length||a.selected.length>0)&&(a.items.forEach(function(b){a.selected.push(b.value),console.log(a.selected)}),a.selected=a.items.slice(0))}}function c(a,b,c,d){a.users=new d,a.addUser=function(){var c=a.users.$save();c.then(function(a){b.go("home.users")},function(b){a.addmessage=b.data.message})}}function d(a,b,c,d){a.updateUser=function(){a.users.role=a.selected;var d=a.users.$update({id:c.id});d.then(function(a){b.go("home.users")},function(b){a.editmessage=b.data.message})},a.loadUser=function(){a.selected=[],a.users=d.get({id:c.id}),a.users.$promise.then(function(b){a.selected=b.role.split(",")}),a.items=[{name:"Administrador",value:"admin"},{name:"Usuario",value:"user"}],a.toggle=function(a,b){var c=b.indexOf(a);c>-1?b.splice(c,1):b.push(a)},a.exists=function(a,b){return console.log(a),console.log(b),b.indexOf(a)>-1},a.isIndeterminate=function(){return 0!==a.selected.length&&a.selected.length!==a.items.length},a.isChecked=function(){return a.selected.length===a.items.length},a.toggleAll=function(){a.selected.length===a.items.length?a.selected=[]:(0===a.selected.length||a.selected.length>0)&&(a.items.forEach(function(b){a.selected.push(b.value),console.log(a.selected)}),a.selected=a.items.slice(0))}},a.loadUser()}angular.module("users").controller("MovieListController",a).controller("MovieViewController",b).controller("MovieCreateController",c).controller("MovieEditController",d),a.$inject=["$scope","$state","popupService","$window","Movie"],b.$inject=["$scope","$stateParams","Movie"],c.$inject=["$scope","$state","$stateParams","Movie"],d.$inject=["$scope","$state","$stateParams","Movie"]}(),function(){"use strict";function a(a){}function b(a,b){if("undefined"==typeof b.globals.currentUser)var c="";else var c=b.globals.currentUser.token;return a(b.UrlAPIPayments+":id",{id:"@_id",access_token:c},{update:{method:"PUT"}})}function c(a,b){if("undefined"==typeof b.globals.currentUser)var c="";else var c=b.globals.currentUser.token;return a(b.UrlAPIContribs+":id",{id:"@_id",access_token:c},{update:{method:"PUT"}})}function d(a){this.showPopup=function(b){return a.confirm(b)}}angular.module("arrecadacao").factory("PaymentsService",a).factory("Payment",b).factory("Contrib",c).service("popupServicePayment",d),a.$inject=["$http"],b.$inject=["$resource","$rootScope"],c.$inject=["$resource","$rootScope"]}(),function(){"use strict";function a(a,b,c,d,e,f){var g={};return g.Login=function(a,e,g){b.post(d.UrlAPIAuth,{access_token:d.mastertoken}).then(function(a){d.globals.currentUser.token=a.data.token,d.globals.currentUser.user=a.data.user,d.telaLogin=!0,c.put("globals",d.globals),f.go("home.dashboard"),g(a)},function(a){console.log(a),-1===a.status?a.message="Servidor fora do ar !!!":a.data.message?a.message=a.data.message:a.message=a.status+": "+a.statusText,g(a)})},g.SetCredentials=function(e,f){var g=a.encode(e+":"+f);d.globals={currentUser:{username:e,authdata:g}},b.defaults.headers.common.Authorization="Basic "+g,c.put("globals",d.globals)},g.ClearCredentials=function(){d.globals={},c.remove("globals"),b.defaults.headers.common.Authorization="Basic "},g}function b(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){var c,d,e,f,g,h="",i="",j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),i=b.charCodeAt(k++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+a.charAt(e)+a.charAt(f)+a.charAt(g)+a.charAt(j),c=d=i="",e=f=g=j="";while(k<b.length);return h},decode:function(b){var c,d,e,f,g,h="",i="",j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(b)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=a.indexOf(b.charAt(k++)),f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),j=a.indexOf(b.charAt(k++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,i=(3&g)<<6|j,h+=String.fromCharCode(c),64!=g&&(h+=String.fromCharCode(d)),64!=j&&(h+=String.fromCharCode(i)),c=d=i="",e=f=g=j="";while(k<b.length);return h}}}angular.module("auth").factory("AuthenticationService",a).factory("Base64",b),a.$inject=["Base64","$http","$cookieStore","$rootScope","$timeout","$state"],b.$inject=[]}(),function(){"use strict";function a(a){}function b(a,b){if("undefined"==typeof b.globals.currentUser)var c="";else var c=b.globals.currentUser.token;return a(b.UrlAPIContribs+":id",{id:"@_id",access_token:c},{update:{method:"PUT"}})}function c(a){this.showPopup=function(b){return a.confirm(b)}}angular.module("contribs").factory("ContribsService",a).factory("Contrib",b).service("popupServiceContrib",c),a.$inject=["$http"],b.$inject=["$resource","$rootScope"]}(),function(){"use strict";function a(a){function b(){return c}var c=[{feature:"Implemented Best Practices, following: John Papa's Guide"},{feature:"Using Controller AS syntax"},{feature:"Wrap Angular components in an Immediately Invoked Function Expression (IIFE)"},{feature:"Declare modules without a variable using the setter syntax"},{feature:"Using named functions"},{feature:"Including Unit test with Karma"},{feature:"Including UI options for Bootstrap or Angular-Material"},{feature:"Including Angular-Material-Icons for Angular-Material UI"},{feature:"Dynamic Menu generator for both themes"},{feature:"Grunt task for Production and Development"}];return{getFeaturesList:b}}angular.module("contrib").factory("homeService",a),a.$inject=["$http"]}(),function(){"use strict";function a(a){var b=[{link:"users",name:"Usuários"},{link:"contribs",name:"Contribuintes"},{link:"arrecadacao",name:"Arrecadação"}];return{listMenu:function(){return b}}}angular.module("contrib").factory("MenuService",a),a.$inject=["$http"]}(),function(){"use strict";function a(a){var b=[{link:"users",name:"Usuários"},{link:"contribs",name:"Contribuintes"},{link:"arrecadacao",name:"Arrecadação"}];return{listMenu:function(){return b}}}angular.module("contrib").factory("MenuService",a),a.$inject=["$http"]}(),function(){"use strict";function a(a){}function b(a,b){if("undefined"==typeof b.globals.currentUser)var c="";else var c=b.globals.currentUser.token;return a(b.UrlAPIUsers+":id",{id:"@_id",access_token:c},{update:{method:"PUT"}})}function c(a){this.showPopup=function(b){return a.confirm(b)}}angular.module("users").factory("UsersService",a).factory("Movie",b).service("popupService",c),a.$inject=["$http"],b.$inject=["$resource","$rootScope"]}();